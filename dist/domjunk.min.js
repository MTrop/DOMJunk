/****************************************************************************
 * DOMJunk by Matt Tropiano (C) 2021
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(e,i){if(!e.Element)return console.error("Missing required type: Element.");if(!e.document.querySelectorAll)return console.error("Missing required function: document.querySelectorAll.");if(!e.document.querySelector)return console.error("Missing required function: document.querySelector.");if(!e.document.createElement)return console.error("Missing required function: document.createElement.");if(!e.document.createTextNode)return console.error("Missing required function: document.createTextNode.");if(!e.Element.prototype.querySelectorAll)return console.error("Missing required function: Element.querySelectorAll.");if(!e.Element.prototype.querySelector)return console.error("Missing required function: Element.querySelector.");function r(e){return f(e,"Boolean")}function o(e){return f(e,"Function")}function s(e){return f(e,"Object")}function c(e){return d(e)||p(e)||x(e)&&0===e.length||m(e)&&isNaN(e)||g(e)&&0===e.trim().length||0===e}function u(t,n){if(!d(t)&&!p(t))if(r(t)||m(t)||g(t))n(t,null,1);else if(x(t))for(let e=0;e<t.length&&!n(t[e],e,t.length);e++);else for(var e in t)if(t.hasOwnProperty(e)&&n(t[e],e,t.length))break}function h(e,t){return t(e),e}const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},n=/&|\<|\>|\"|\'|\/|`|=/g,l=/<\/?[a-z][\s\S]*>/i,a=e=>e.replace(n,e=>t[e]),f=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},d=function(e){return void 0===e},p=function(e){return null===e},m=function(e){return f(e,"Number")},g=function(e){return f(e,"String")},x=function(e){return f(e,"Array")};function y(e){return l.test(e)}function S(e){var t=i.createElement("template");return t.innerHTML=e,t.content.childNodes}class v extends Array{constructor(t,e){if(super(),d(t)||p(t))this.length=0;else if(e||d(t.length))this[0]=t,this.length=1;else if(t.length<1e5)this.push(...t);else{for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}}}const w=new function(){return function(e,t){return d(e)||p(e)?new v([]):e instanceof v||x(e)?new v([...e]):g(e)?y(e)?new v(S(e)):t?new v(i.querySelector(e)):new v(i.querySelectorAll(e)):new v(e)}};w.extend=function(e,n){v.prototype[e]&&console.warn("DOMJunk: Overriding existing function: "+e),v.prototype[e]=function(){let t;for(let e=0;e<this.length&&d(t);e++)t=n.apply(this[e],arguments);return d(t)?this:t}},w.extendSelection=function(e,t){v.prototype[e]&&console.warn("DOMJunk: Overriding existing function: "+e),v.prototype[e]=function(){return t.apply(this,arguments)}},w.createGroups=function(e){const r={};return u(e,(e,t)=>{let n=null;n=g(e)?w(e):o(e)?e():e,r[t]=n}),r},w.createTemplateElements=function(e,t){const c=i.importNode(e,!0).innerHTML.trim(),n=n=>{var t=c.match(/{{.+?}}/g);let r=0,i="";if(t){for(let e=0;e<t.length;e++){var o=t[e],s=c.indexOf(o,r);if(0<=s){i+=c.substring(r,s);var l=o.substring(2,o.length-2).split(".");let t=n;for(let e=0;e<l.length;e++)t=t[l[e]];d(t)||(i+=p(t)?"":a(t.toString())),r=s+o.length}}i+=c.substring(r)}return S(i)},r=[];return x(t)?u(t,e=>{u(n(e),e=>{r.push(e)})}):u(n(t),e=>{r.push(e)}),r};let b=0;w.perfTest=function(t,n){var e=b++;console.time("perfcount"+e);for(let e=0;e<t;e++)n();console.timeEnd("perfcount"+e)},w.iterationTest=function(e,t){let n=0;for(var r=performance.now();performance.now()-r<e;)t(),n++;return n},w.extend("each",function(e){e.apply(this,[this])}),w.extend("search",function(e,t){return t?new v(this.querySelector(e)):new v(this.querySelectorAll(e))}),w.extend("child",function(e){return new v(this.children[e])}),w.extend("children",function(){return new v(this.children)}),w.extend("parent",function(){return new v(this.parentElement)}),w.extend("ancestors",function(){let e=this;for(var t=[];null!==e.parentElement;)t.push(e.parentElement),e=e.parentElement;return new v(t)}),w.extend("descendants",function(){for(var e=[],t=[...this.children];0<t.length;){var n=t.pop();e.push(n);for(let e=0;e<n.children.length;e++)t.push(n.children[e])}return new v(e)}),w.extend("siblings",function(){var t=[],n=[...this.parentElement.children];for(let e=0;e<n.length;e++){var r=n[e];r!==this&&t.push(r)}return new v(t)}),w.extend("clear",function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),w.extend("append",function(t){if(t instanceof v||x(t))for(let e=0;e<t.length;e++)this.appendChild(t[e]);else if(t instanceof NodeList)for(let e=0;e<t.length;e++)this.appendChild(t[e]);else if(t instanceof Document||t instanceof DocumentFragment)for(let e=0;e<t.children.length;e++)this.appendChild(t.children[e]);else this.appendChild(t)}),w.extend("refill",function(e){new v(this).clear().append(e)}),w.extend("refillTemplate",function(e,t){e instanceof v&&(e=e[0]),new v(this).clear().append(w.createTemplateElements(e,t))}),w.extend("refillList",function(e,n){const r=[];u(e,(e,t)=>{e=n(e,t);e&&r.push(e)}),new v(this).clear().append(r)}),w.extend("html",function(e){if(d(e))return this.innerHTML;this.innerHTML=e}),w.extend("text",function(e){if(d(e))return this.innerText;this.innerHTML=a(e)}),w.extend("set",function(e,t){this[e]=t}),w.extend("merge",function(e){u(e,(e,t)=>{this[t]=e})}),w.extend("style",function(e){if(d(e))return{...this.style};if(x(e)){let t={};return u(e,e=>{t[e]=this.style[e]}),t}if(!s(e))return this.style[e];u(e,(e,t)=>{this.style[t]=e})}),w.extend("attr",function(e){if(d(e)){var t={},n=this.getAttributeNames();for(let e=0;e<n.length;e++)t[n[e]]=this.getAttribute(n[e]);return t}if(x(e)){let t={};return u(e,e=>{t[e]=this.getAttribute(e)}),t}if(!s(e))return this.getAttribute(e);u(e,(e,t)=>{this.setAttribute(t,e)})}),w.extend("classAdd",function(){var t=arguments;const n=0<this.className.trim().length?this.className.split(/\s+/):[];var r=h({},t=>{n.map(e=>{t[e]=!0})});for(let e=0;e<t.length;e++)r[t[e]]||n.push(t[e]);this.className=n.join(" ")}),w.extend("classRemove",function(){var t=arguments,e=0<this.className.trim().length?this.className.split(/\s+/):[];const n={};for(let e=0;e<t.length;e++)n[t[e]]=!0;const r=[];u(e,e=>{n[e]||r.push(e)}),c(r)?this.removeAttribute("class"):this.className=r.join(" ")}),w.extend("classToggle",function(){const n=arguments,r=0<this.className.trim().length?this.className.split(/\s+/):[];var t=h({},t=>{r.map(e=>{t[e]=!0})}),i=h({},t=>{u(n,e=>{t[e]=!0})}),o=[];for(let e=0;e<r.length;e++){var s=r[e];i[s]||o.push(s)}for(let e=0;e<n.length;e++){var l=n[e];t[l]||o.push(l)}c(o)?this.removeAttribute("class"):this.className=o.join(" ")}),w.extend("attach",function(e,t){this.addEventListener(e,t)}),w.extend("detach",function(e,t){this.removeEventListener(e,t)}),w.extendSelection("get",function(e){return new v(this[e])}),w.extendSelection("first",function(){return new v(this[0])}),w.extendSelection("last",function(){return new v(this[this.length-1])}),w.extendSelection("form",function(e){if(!d(e)&&!o(e))throw new Error("Callback function for formData must be a function!");const r={};return new v(this).search("input, textarea, select").each(function(){var e,t,n=this.getAttribute("name");n&&!this.disabled&&(e=("checkbox"!==(e=this.getAttribute("type"))&&"radio"!==e||this.checked)&&this.value)&&(s(r[n])?r[n].push(e):r[n]?(t=[r[n],e],r[n]=t):r[n]=e)}),e?(e(r),this):r}),w.extendSelection("apply",function(e){return u(e,(e,t)=>{this.search(t).each(e)}),this}),w.extendSelection("elements",function(){return[...this]});function E(t){return function(e){return this.attach(t,e),this}}w.extendSelection("load",E("load")),w.extendSelection("unload",E("unload")),w.extendSelection("click",E("click")),w.extendSelection("dblclick",E("dblclick")),w.extendSelection("mouseenter",E("mouseenter")),w.extendSelection("mouseleave",E("mouseleave")),w.extendSelection("keydown",E("keydown")),w.extendSelection("keyup",E("keyup")),w.extendSelection("focus",E("focus")),w.extendSelection("blur",E("blur")),w.extendSelection("change",E("change")),w.id=function(e){return new v(i.getElementById(e))},w.class=function(e){return new v(i.getElementsByClassName(e))},w.tag=function(e,t){return d(t)?new v(i.getElementsByTagName(e)):new v(i.getElementsByTagNameNS(t,e))},w.each=u,w.fold=h,w.queryString=function(e){let r=[];return u(e,(t,n)=>{if(x(t))for(let e=0;e<t.length;e++)r.push(encodeURIComponent(n)+"="+encodeURIComponent(t[e]));else d(t)||p(t)||r.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}),r.join("&")},w.isType=f,w.isUndefined=d,w.isNull=p,w.isBoolean=r,w.isNumber=m,w.isString=g,w.isArray=x,w.isFunction=o,w.isObject=s,w.isBlank=c,w.isHTML=y,w.h=S,w.e=function(e,t,n){const r=i.createElement(e);if(t&&u(t,(e,t)=>{t=i.createAttribute(t);t.value=e,r.setAttributeNode(t)}),n)if(x(n))for(let e=0;e<n.length;e++)r.appendChild(n[e]);else r.appendChild(n);return r},w.t=function(e){return i.createTextNode(e)};let N=e.$DJ,q=e.$DJMain;w.noConflict=function(){e.$DJ=N,e.$DJMain=q};const A=[];e.DOMJunk=w,e.$DJ=w,e.$DJMain=function(e){A.push(e)},i.addEventListener("DOMContentLoaded",function(){for(let e=0;e<A.length;e++)A[e]()})}(this,document);
//# sourceMappingURL=domjunk.min.js.map