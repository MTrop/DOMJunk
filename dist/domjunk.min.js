/****************************************************************************
 * DOMJunk by Matt Tropiano (C) 2021
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(e){if(!e.Element)return console.error("Missing required type: Element.");if(!e.document.querySelectorAll)return console.error("Missing required function: document.querySelectorAll.");if(!e.document.querySelector)return console.error("Missing required function: document.querySelector.");if(!e.document.createElement)return console.error("Missing required function: document.createElement.");if(!e.document.createTextNode)return console.error("Missing required function: document.createTextNode.");if(!e.Element.prototype.querySelectorAll)return console.error("Missing required function: Element.querySelectorAll.");if(!e.Element.prototype.querySelector)return console.error("Missing required function: Element.querySelector.");function r(e){return s(e,"Boolean")}function i(e){return s(e,"Function")}function o(e){return s(e,"Object")}function c(e){return f(e)||d(e)||g(e)&&0===e.length||m(e)&&isNaN(e)||p(e)&&0===e.trim().length||0===e}function u(t,n){if(!f(t)&&!d(t))if(r(t)||m(t)||p(t))n(t,null,1);else if(g(t))for(let e=0;e<t.length&&!n(t[e],e,t.length);e++);else for(var e in t)if(t.hasOwnProperty(e)&&n(t[e],e,t.length))break}function a(e,t){return t(e),e}const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},n=/&|\<|\>|\"|\'|\/|`|=/g,l=/<\/?[a-z][\s\S]*>/i,h=e=>e.replace(n,e=>t[e]),s=function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},f=function(e){return void 0===e},d=function(e){return null===e},m=function(e){return s(e,"Number")},p=function(e){return s(e,"String")},g=function(e){return s(e,"Array")};function x(e){return l.test(e)}function y(e){var t=document.createElement("template");return t.innerHTML=e,t.content.childNodes}class S extends Array{constructor(t,e){if(super(),f(t)||d(t))this.length=0;else if(e||f(t.length))this[0]=t,this.length=1;else{for(let e=0;e<t.length;e++)this[e]=t[e];this.length=t.length}}}const v=new function(){return function(e,t){return f(e)||d(e)?new S([]):e instanceof S||g(e)?new S([...e]):p(e)?x(e)?new S(y(e)):t?new S(document.querySelector(e)):new S(document.querySelectorAll(e)):new S(e)}};v.extend=function(e,n){S.prototype[e]&&console.warn("DOMJunk: Overriding existing function: "+e),S.prototype[e]=function(){let t;for(let e=0;e<this.length&&f(t);e++)t=n.apply(this[e],arguments);return f(t)?this:t}},v.extendSelection=function(e,t){S.prototype[e]&&console.warn("DOMJunk: Overriding existing function: "+e),S.prototype[e]=function(){return t.apply(this,arguments)}},v.createGroups=function(e){const r={};return u(e,(e,t)=>{let n=null;n=p(e)?v(e):i(e)?e():e,r[t]=n}),r},v.createTemplateElements=function(e,t){const c=document.importNode(e,!0).innerHTML.trim(),n=n=>{var t=c.match(/{{.+?}}/g);let r=0,i="";if(t){for(let e=0;e<t.length;e++){var o=t[e],l=c.indexOf(o,r);if(0<=l){i+=c.substring(r,l);var s=o.substring(2,o.length-2).split(".");let t=n;for(let e=0;e<s.length;e++)t=t[s[e]];f(t)||(i+=d(t)?"":h(t.toString())),r=l+o.length}}i+=c.substring(r)}return y(i)},r=[];return g(t)?u(t,e=>{u(n(e),e=>{r.push(e)})}):u(n(t),e=>{r.push(e)}),r};let w=0;v.perfTest=function(t,n){var e=w++;console.time("perfcount"+e);for(let e=0;e<t;e++)n();console.timeEnd("perfcount"+e),funcDone()},v.iterationTest=function(e,t){let n=0;for(var r=performance.now();performance.now()-r<e;)t(),n++;return n},v.extend("each",function(e){e.apply(this,[this])}),v.extend("search",function(e,t){return t?new S(this.querySelector(e)):new S(this.querySelectorAll(e))}),v.extend("child",function(e){return new S(this.children[e])}),v.extend("children",function(){return new S(this.children)}),v.extend("parent",function(){return new S(this.parentElement)}),v.extend("ancestors",function(){let e=this;for(var t=[];null!==e.parentElement;)t.push(e.parentElement),e=e.parentElement;return new S(t)}),v.extend("descendants",function(){for(var e=[],t=[...this.children];0<t.length;){var n=t.pop();e.push(n);for(let e=0;e<n.children.length;e++)t.push(n.children[e])}return new S(e)}),v.extend("siblings",function(){var t=[],n=[...this.parentElement.children];for(let e=0;e<n.length;e++){var r=n[e];r!==this&&t.push(r)}return new S(t)}),v.extend("clear",function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),v.extend("append",function(t){if(t instanceof S||g(t))for(let e=0;e<t.length;e++)this.appendChild(t[e]);else if(t instanceof NodeList)for(let e=0;e<t.length;e++)this.appendChild(t[e]);else if(t instanceof Document||t instanceof DocumentFragment)for(let e=0;e<t.children.length;e++)this.appendChild(t.children[e]);else this.appendChild(t)}),v.extend("refill",function(e){new S(this).clear().append(e)}),v.extend("refillTemplate",function(e,t){e instanceof S&&(e=e[0]),new S(this).clear().append(v.createTemplateElements(e,t))}),v.extend("refillList",function(e,n){const r=[];u(e,(e,t)=>{e=n(e,t);e&&r.push(e)}),new S(this).clear().append(r)}),v.extend("html",function(e){if(f(e))return this.innerHTML;this.innerHTML=e}),v.extend("text",function(e){if(f(e))return this.innerText;this.innerHTML=h(e)}),v.extend("set",function(e,t){this[e]=t}),v.extend("merge",function(e){u(e,(e,t)=>{this[t]=e})}),v.extend("style",function(e){if(f(e))return{...this.style};if(g(e)){let t={};return u(e,e=>{t[e]=this.style[e]}),t}if(!o(e))return this.style[e];u(e,(e,t)=>{this.style[t]=e})}),v.extend("attr",function(e){if(f(e)){var t={},n=this.getAttributeNames();for(let e=0;e<n.length;e++)t[n[e]]=this.getAttribute(n[e]);return t}if(g(e)){let t={};return u(e,e=>{t[e]=this.getAttribute(e)}),t}if(!o(e))return this.getAttribute(e);u(e,(e,t)=>{this.setAttribute(t,e)})}),v.extend("classAdd",function(){var t=arguments;const n=0<this.className.trim().length?this.className.split(/\s+/):[];var r=a({},t=>{n.map(e=>{t[e]=!0})});for(let e=0;e<t.length;e++)r[t[e]]||n.push(t[e]);this.className=n.join(" ")}),v.extend("classRemove",function(){var t=arguments,e=0<this.className.trim().length?this.className.split(/\s+/):[];const n={};for(let e=0;e<t.length;e++)n[t[e]]=!0;const r=[];u(e,e=>{n[e]||r.push(e)}),c(r)?this.removeAttribute("class"):this.className=r.join(" ")}),v.extend("classToggle",function(){const n=arguments,r=0<this.className.trim().length?this.className.split(/\s+/):[];var t=a({},t=>{r.map(e=>{t[e]=!0})}),i=a({},t=>{u(n,e=>{t[e]=!0})}),o=[];for(let e=0;e<r.length;e++){var l=r[e];i[l]||o.push(l)}for(let e=0;e<n.length;e++){var s=n[e];t[s]||o.push(s)}c(o)?this.removeAttribute("class"):this.className=o.join(" ")}),v.extend("attach",function(e,t){this.addEventListener(e,t)}),v.extend("detach",function(e,t){this.removeEventListener(e,t)}),v.extendSelection("get",function(e){return new S(this[e])}),v.extendSelection("first",function(){return new S(this[0])}),v.extendSelection("last",function(){return new S(this[this.length-1])}),v.extendSelection("form",function(e){if(!f(e)&&!i(e))throw new Error("Callback function for formData must be a function!");const r={};return new S(this).search("input, textarea, select").each(function(){var e,t,n=this.getAttribute("name");n&&!this.disabled&&(e=("checkbox"!==(e=this.getAttribute("type"))&&"radio"!==e||this.checked)&&this.value)&&(o(r[n])?r[n].push(e):r[n]?(t=[r[n],e],r[n]=t):r[n]=e)}),e?(e(r),this):r}),v.extendSelection("apply",function(e){u(e,(e,t)=>{this.search(t).each(e)})}),v.extendSelection("elements",function(){return[...this]});function b(t){return function(e){this.attach(t,e)}}v.extendSelection("load",b("load")),v.extendSelection("unload",b("unload")),v.extendSelection("click",b("click")),v.extendSelection("dblclick",b("dblclick")),v.extendSelection("mouseenter",b("mouseenter")),v.extendSelection("mouseleave",b("mouseleave")),v.extendSelection("keydown",b("keydown")),v.extendSelection("keyup",b("keyup")),v.extendSelection("focus",b("focus")),v.extendSelection("blur",b("blur")),v.extendSelection("change",b("change")),v.id=function(e){return new S(document.getElementById(e))},v.class=function(e){return new S(document.getElementsByClassName(e))},v.tag=function(e,t){return f(t)?new S(document.getElementsByTagName(e)):new S(document.getElementsByTagNameNS(t,e))},v.each=u,v.fold=a,v.queryString=function(e){let r=[];return u(e,(t,n)=>{if(g(t))for(let e=0;e<t.length;e++)r.push(encodeURIComponent(n)+"="+encodeURIComponent(t[e]));else f(t)||d(t)||r.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}),r.join("&")},v.isType=s,v.isUndefined=f,v.isNull=d,v.isBoolean=r,v.isNumber=m,v.isString=p,v.isArray=g,v.isFunction=i,v.isObject=o,v.isBlank=c,v.isHTML=x,v.h=y,v.e=function(e,t,n){const r=document.createElement(e);if(t&&u(t,(e,t)=>{t=document.createAttribute(t);t.value=e,r.setAttributeNode(t)}),n)if(g(n))for(let e=0;e<n.length;e++)r.appendChild(n[e]);else r.appendChild(n);return r},v.t=function(e){return document.createTextNode(e)};let E=e.$DJ,N=e.$DJMain;v.noConflict=function(){e.$DJ=E,e.$DJMain=N};const q=[];e.DOMJunk=v,e.$DJ=v,e.$DJMain=function(e){q.push(e)},document.addEventListener("DOMContentLoaded",function(){for(let e=0;e<q.length;e++)q[e]()})}(this);
//# sourceMappingURL=domjunk.min.js.map