/****************************************************************************
 * DOMJunk by Matt Tropiano (C) 2021
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(t){if(!t.document.querySelectorAll)return console.error("Missing required function: document.querySelectorAll.");if(!t.document.querySelector)return console.error("Missing required function: document.querySelector.");if(!t.document.createElement)return console.error("Missing required function: document.createElement.");if(!t.document.createTextNode)return console.error("Missing required function: document.createTextNode.");if(!t.Element.prototype.querySelectorAll)return console.error("Missing required function: Element.querySelectorAll.");if(!t.Element.prototype.querySelector)return console.error("Missing required function: Element.querySelector.");if(!t.DOMParser)return console.error("Missing required object: DOMParser.");function r(t){return c(t,"Boolean")}function e(t){return c(t,"Function")}function o(t){return c(t,"Object")}function u(t){return d(t)||h(t)||f(t)&&0===t.length||s(t)&&isNaN(t)||p(t)&&0===t.trim().length||0===t}function l(t,e){return e(t),t}function i(){let e={};return m(arguments,t=>{e={...e,...t}}),e}function a(t){let r=[];return m(t,(e,n)=>{if(f(e))for(let t=0;t<e.length;t++)r.push(encodeURIComponent(n)+"="+encodeURIComponent(e[t]));else d(e)||h(e)||r.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),r.join("&")}const c=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"},d=function(t){return void 0===t},h=function(t){return null===t},s=function(t){return c(t,"Number")},p=function(t){return c(t,"String")},f=function(t){return c(t,"Array")},m=function(t,e){if(!d(t)&&!h(t))if(r(t)||s(t)||p(t))e(t,null,1);else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n,t.length))break};function y(t,e){return n.call(t,e)}const n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector;const g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},x=/&|\<|\>|\"|\'|\/|`|=/g,A={data:null,dataType:"form",responseType:null,headers:{},responseIsSuccess:!1,async:!0,user:null,password:null};class S{constructor(e,t){if(d(e)||h(e))this.length=0;else if(t||d(e.length))this[0]=e,this.length=1;else{for(let t=0;t<e.length;t++)this[t]=e[t];this.length=e.length}}}class F{constructor(t,c,e){this.beforeSendFunc=null,this.uploadStartFunc=null,this.uploadProgressFunc=null,this.uploadSuccessFunc=null,this.uploadEndFunc=null,this.startFunc=null,this.progressFunc=null,this.successFunc=null,this.failureFunc=null,this.alwaysFunc=null,this.abortFunc=null,this.timeoutFunc=null;var n=t=>{this.failureFunc&&this.failureFunc(d.status,d.statusText,d,t)},r=t=>{this.abortFunc&&this.abortFunc(d,t)},s=t=>{this.timeoutFunc&&this.timeoutFunc(d,t)};const d=new XMLHttpRequest;d.open(c.method,t,c.async,c.user,c.password),c.headers&&m(c.headers,(t,e)=>{d.setRequestHeader(e,t)}),d.upload.onloadstart=t=>{this.uploadStartFunc&&this.uploadStartFunc(d,t)},d.upload.onprogress=t=>{this.uploadProgressFunc&&this.uploadProgressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,d,t)},d.upload.onload=t=>{this.uploadSuccessFunc&&this.uploadSuccessFunc(d,t)},d.upload.onloadend=t=>{this.uploadEndFunc&&this.uploadEndFunc(d,t)},d.upload.onerror=n,d.upload.onabort=r,d.upload.ontimeout=s,d.onloadstart=t=>{this.startFunc&&this.startFunc(d,t)},d.onprogress=t=>{this.progressFunc&&this.progressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,d,t)},d.onerror=n,d.onabort=r,d.ontimeout=s,d.onload=e=>{var t=parseInt(d.status/100,10);if(4!==t&&5!==t||c.responseIsSuccess){if(this.successFunc)try{var n="charset=";const a=d.getResponseHeader("Content-Type");var r=a.indexOf(";"),s=0<=r?a.substring(0,r):a,o=a.indexOf(n),i=0<=o?a.substring(o+n.length,a.length).trim():null,u=c.responseType||s,l=responseTypeHandlers[u]?responseTypeHandlers[u](d.response,d.responseType,s,i,a):d.response;this.successFunc(l,d.status,d.statusText,d,e)}catch(t){this.failureFunc&&this.failureFunc(null,null,d,e,t),this.alwaysFunc&&this.alwaysFunc(e,d)}}else this.failureFunc&&this.failureFunc(d.status,d.statusText,d,e)},d.onloadend=t=>{this.alwaysFunc&&this.alwaysFunc(d,t)},setTimeout(()=>{try{this.beforeSendFunc&&this.beforeSendFunc(d),d.send(e)}catch(t){this.failureFunc&&this.failureFunc(null,null,d,null,t),this.alwaysFunc&&this.alwaysFunc(null,d)}},0)}beforeSend(t){return this.beforeSendFunc=t,this}start(t){return this.startFunc=t,this}progress(t){return this.progressFunc=t,this}success(t){return this.successFunc=t,this}uploadStart(t){return this.uploadStartFunc=t,this}uploadProgress(t){return this.uploadProgressFunc=t,this}uploadSuccess(t){return this.uploadSuccessFunc=t,this}uploadFinished(t){return this.uploadEndFunc=t,this}failure(t){return this.failureFunc=t,this}always(t){return this.alwaysFunc=t,this}abort(t){return this.abortFunc=t,this}timeout(t){return this.timeoutFunc=t,this}}F.prototype.responseTypeHandlers={};const T=t=>"on"+t.toLowerCase();function b(t){let e=null;p(t)?e={method:"GET",url:t}:o(t)&&(e=t),e.method?e.method=e.method.toUpperCase():e.method="GET",e.url=e.url||"#";let n=i(A,e),r=n.url,s=null;return h(n.data)||d(n.data)||(o(n.data)?"GET"===n.method||"DELETE"===n.method?r=r+(0<=r.indexOf("?")?"&":"?")+a(n.data):"text"===n.dataType?(s=a(n.data),n.headers["Content-Type"]="text/plain"):"json"===n.dataType?(s=JSON.stringify(n.data),n.headers["Content-Type"]="application/json"):"form"===n.dataType&&(s=a(n.data),n.headers["Content-Type"]="application/x-www-form-urlencoded"):p(n.data)||c(n.data,"DOMString")?"GET"===n.method||"DELETE"===n.method?r+=qs:(s=n.data,n.headers["Content-Type"]=n.dataType||"application/octet-stream"):c(n.data,"ArrayBuffer")||c(n.data,"ArrayBufferView")||c(n.data,"Blob")?"GET"!==n.method&&"DELETE"!==n.method&&(s=n.data,n.headers["Content-Type"]=n.dataType||"application/octet-stream"):c(n.data,"Document")||c(n.data,"HTMLDocument")?"GET"!==n.method&&"DELETE"!==n.method&&(s=n.data,n.headers["Content-Type"]="text/html"):c(n.data,"XMLDocument")?"GET"!==n.method&&"DELETE"!==n.method&&(s=n.data,n.headers["Content-Type"]="application/xml"):c(n.data,"FormData")&&"GET"!==n.method&&"DELETE"!==n.method&&(s=n.data,n.headers["Content-Type"]="multipart/form-data")),new F(r,n,s)}function E(t,e,n,r){return b({method:t,headers:r,url:e,data:n,dataType:"json",responseType:"json"})}function J(t){return Util.isString(t)?t:Object.prototype.toString.call(t)}function w(t,e,n){return(new DOMParser).parseFromString(t,n)}function N(t){return JSON.parse(t)}const D=new function(){return function(t,e){return d(t)||h(t)?new S([]):p(t)?e?new S(document.querySelector(t)):new S(document.querySelectorAll(t)):new S(t)}};D.extend=function(t,n){S.prototype[t]=function(){let e;for(let t=0;t<this.length&&d(e);t++)e=n.apply(this[t],arguments);return d(e)?this:e}},D.extendSelection=function(t,e){S.prototype[t]=function(){return e.apply(this,arguments)}},D.extendAJAX=function(t,e){F.prototype.responseTypeHandlers[t]=e},D.extend("each",function(t){t.apply(this,[this])}),D.extend("find",function(t,e){return e?new S(this.querySelector(t)):new S(this.querySelectorAll(t))}),D.extend("child",function(t){return new S(this.children[t],!0)}),D.extend("children",function(){return new S(this.children)}),D.extend("parent",function(){return new S(this.parentElement,!0)}),D.extend("clear",function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),D.extend("append",function(e){if(f(e))for(let t=0;t<e.length;t++)this.appendChild(e[t]);else if(e instanceof Document)for(let t=0;t<e.children.length;t++)this.appendChild(e.children[t]);else this.appendChild(e)}),D.extend("refill",function(t){new S(this).clear().append(t)}),D.extend("html",function(t){if(d(t))return this.innerHTML;this.innerHTML=t}),D.extend("text",function(t){if(d(t))return this.innerText;this.innerHTML=t.replace(x,t=>g[t])}),D.extend("set",function(t,e){this[t]=e}),D.extend("merge",function(t){m(t,(t,e)=>{this[e]=t})}),D.extend("style",function(t){if(d(t))return i({},this.style);if(f(t)){let e={};return m(t,t=>{e[t]=this.style[t]}),e}if(!o(t))return this.style[t];m(t,(t,e)=>{this.style[e]=t})}),D.extend("attr",function(t){if(d(t)){let e={};var n=this.getAttributeNames();for(let t=0;t<n.length;t++)e[n[t]]=this.getAttribute(n[t]);return e}if(f(t)){let e={};return m(t,t=>{e[t]=this.getAttribute(t)}),e}if(!o(t))return this.getAttribute(t);m(t,(t,e)=>{this.setAttribute(e,t)})}),D.extend("classAdd",function(){const n=0<this.className.trim().length?this.className.split(/\s+/):[];var e=l({},e=>{n.map(t=>{e[t]=!0})});for(let t=0;t<arguments.length;t++)e[arguments[t]]||n.push(arguments[t]);this.className=n.join(" ")}),D.extend("classRemove",function(){var t=0<this.className.trim().length?this.className.split(/\s+/):[];const e={};for(let t=0;t<arguments.length;t++)e[arguments[t]]=!0;const n=[];m(t,t=>{e[t]||n.push(t)}),u(n)?this.removeAttribute("class"):this.className=n.join(" ")}),D.extend("classToggle",function(){const n=0<this.className.trim().length?this.className.split(/\s+/):[];var e=l({},e=>{n.map(t=>{e[t]=!0})}),r=l({},e=>{m(arguments,t=>{e[t]=!0})});const s=[];for(let t=0;t<n.length;t++){var o=n[t];r[o]||s.push(o)}for(let t=0;t<arguments.length;t++){var i=arguments[t];e[i]||s.push(i)}u(s)?this.removeAttribute("class"):this.className=s.join(" ")}),D.extend("attach",function(t,e){const n=this;this[T(t)]=e?function(t){e.apply(n,[t])}:null}),D.extend("detach",function(t){this[T(t)]=null}),D.extendSelection("get",function(t){return new S(this[t])}),D.extendSelection("first",function(){return new S(this[0])}),D.extendSelection("last",function(){return new S(this[this.length-1])}),D.extendSelection("form",function(t){if(!d(t)&&!e(t))throw new Error("Callback function for formData must be a function!");let r={};return new S(this).find("input, textarea, select").each(function(){var t,e,n=this.getAttribute("name");n&&(y(this,":disabled")||(t=("checkbox"!==(e=this.getAttribute("type"))&&"radio"!==e||y(this,":checked"))&&this.value)&&(o(r[n])?r[n].push(t):r[n]?(e=[r[n],t],r[n]=e):r[n]=t))}),t?(t(r),this):r}),D.extendSelection("apply",function(t){m(t,(t,e)=>{this.find(e).each(t)})});function C(e){return function(t){this.attach(e,t)}}D.extendSelection("load",C("load")),D.extendSelection("unload",C("unload")),D.extendSelection("click",C("click")),D.extendSelection("dblclick",C("dblclick")),D.extendSelection("hover",C("mouseenter")),D.extendSelection("leave",C("mouseleave")),D.extendSelection("keydown",C("keydown")),D.extendSelection("keyup",C("keyup")),D.extendSelection("focus",C("focus")),D.extendSelection("blur",C("blur")),D.extendSelection("change",C("change")),D.extendAJAX("text",J),D.extendAJAX("text/plain",J),D.extendAJAX("json",N),D.extendAJAX("application/json",N),D.extendAJAX("xml",w),D.extendAJAX("text/xml",w),D.extendAJAX("application/xml",w),D.extendAJAX("html",w),D.extendAJAX("text/html",w),D.extendAJAX("xhtml",w),D.extendAJAX("text/xhtml",w),D.id=function(t){return new S(document.getElementById(t),!0)},D.class=function(t){return new S(document.getElementsByClassName(t))},D.tag=function(t,e){return d(e)?new S(document.getElementsByTagName(t)):new S(document.getElementsByTagNameNS(e,t))},D.each=m,D.fold=l,D.merge=i,D.queryString=a,D.isType=c,D.isUndefined=d,D.isNull=h,D.isBoolean=r,D.isNumber=s,D.isString=p,D.isArray=f,D.isFunction=e,D.isObject=o,D.isBlank=u,D.e=function(t,e,n){const r=document.createElement(t);if(e&&m(e,(t,e)=>{const n=document.createAttribute(e);n.value=t,r.setAttributeNode(n)}),n)if(f(n))for(let t=0;t<n.length;t++)r.appendChild(n[t]);else r.appendChild(n);return r},D.t=function(t){return document.createTextNode(t)},D.AJAX=b,D.JSONAJAX=E,D.JSONAJAX.get=function(t,e){return E("get",t,null,e)},D.JSONAJAX.delete=function(t,e){return E("delete",t,null,e)},D.JSONAJAX.put=function(t,e,n){return E("put",t,e,n)},D.JSONAJAX.post=function(t,e,n){return E("post",t,e,n)},D.JSONAJAX.patch=function(t,e,n){return E("patch",t,e,n)};let q=t.$DJ,X=t.$DJA,v=t.$DJJ,M=t.$DJMain;D.noConflict=function(){t.$DJ=q,t.$DJA=X,t.$DJJ=v,t.$DJMain=M},t.DOMJunk=D,t.$DJ=D,t.$DJA=D.AJAX,t.$DJJ=D.JSONAJAX,t.$DJMain=function(t){D.tag("body").load(t)}}(this);
//# sourceMappingURL=domjunk.min.js.map