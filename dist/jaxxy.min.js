/****************************************************************************
 * Jaxxy by Matt Tropiano (C) 2022
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(n){if(n.DOMParser)if(encodeURIComponent){const a=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"},i=function(t){return void 0===t},l=function(t){return null===t},c=function(t){return a(t,"Boolean")},d=function(t){return a(t,"Number")},p=function(t){return a(t,"String")},h=function(t){return a(t,"Array")};const f=function(t){return a(t,"Object")};const F=function(t,e){if(!i(t)&&!l(t))if(c(t)||d(t)||p(t))e(t,null,1);else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n,t.length))break},m=function(t){let s=[];return F(t,(e,n)=>{if(h(e))for(let t=0;t<e.length;t++)s.push(encodeURIComponent(n)+"="+encodeURIComponent(e[t]));else i(e)||l(e)||s.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}),s.join("&")},y={data:null,dataType:"form",responseType:null,headers:{},responseIsSuccess:!1,async:!0,user:null,password:null};class T{constructor(t,c,e){this.beforeSendFunc=null,this.uploadStartFunc=null,this.uploadProgressFunc=null,this.uploadSuccessFunc=null,this.uploadEndFunc=null,this.startFunc=null,this.progressFunc=null,this.successFunc=null,this.failureFunc=null,this.alwaysFunc=null,this.abortFunc=null,this.timeoutFunc=null;var n=t=>{this.failureFunc&&this.failureFunc(d.status,d.statusText,d,t)},s=t=>{this.abortFunc&&this.abortFunc(d,t)},o=t=>{this.timeoutFunc&&this.timeoutFunc(d,t)};const d=new XMLHttpRequest;d.open(c.method,t,c.async,c.user,c.password),c.headers&&F(c.headers,(t,e)=>{d.setRequestHeader(e,t)}),d.upload.onloadstart=t=>{this.uploadStartFunc&&this.uploadStartFunc(d,t)},d.upload.onprogress=t=>{this.uploadProgressFunc&&this.uploadProgressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,d,t)},d.upload.onload=t=>{this.uploadSuccessFunc&&this.uploadSuccessFunc(d,t)},d.upload.onloadend=t=>{this.uploadEndFunc&&this.uploadEndFunc(d,t)},d.upload.onerror=n,d.upload.onabort=s,d.upload.ontimeout=o,d.onloadstart=t=>{this.startFunc&&this.startFunc(d,t)},d.onprogress=t=>{this.progressFunc&&this.progressFunc(t.lengthComputable?t.loaded/t.total:0,t.loaded,t.total,d,t)},d.onerror=n,d.onabort=s,d.ontimeout=o,d.onload=e=>{var t=parseInt(d.status/100,10);if(4!==t&&5!==t||c.responseIsSuccess){if(this.successFunc)try{var n="charset=",s=d.getResponseHeader("Content-Type"),o=s.indexOf(";"),r=0<=o?s.substring(0,o):s,u=s.indexOf(n),a=0<=u?s.substring(u+n.length,s.length).trim():null,i=c.responseType||r,l=responseTypeHandlers[i]?responseTypeHandlers[i](d.response,d.responseType,r,a,s):d.response;this.successFunc(l,d.status,d.statusText,d,e)}catch(t){this.failureFunc&&this.failureFunc(null,null,d,e,t),this.alwaysFunc&&this.alwaysFunc(e,d)}}else this.failureFunc&&this.failureFunc(d.status,d.statusText,d,e)},d.onloadend=t=>{this.alwaysFunc&&this.alwaysFunc(d,t)},setTimeout(()=>{try{this.beforeSendFunc&&this.beforeSendFunc(d),d.send(e)}catch(t){this.failureFunc&&this.failureFunc(null,null,d,null,t),this.alwaysFunc&&this.alwaysFunc(null,d)}},0)}beforeSend(t){return this.beforeSendFunc=t,this}start(t){return this.startFunc=t,this}progress(t){return this.progressFunc=t,this}success(t){return this.successFunc=t,this}uploadStart(t){return this.uploadStartFunc=t,this}uploadProgress(t){return this.uploadProgressFunc=t,this}uploadSuccess(t){return this.uploadSuccessFunc=t,this}uploadFinished(t){return this.uploadEndFunc=t,this}failure(t){return this.failureFunc=t,this}always(t){return this.alwaysFunc=t,this}abort(t){return this.abortFunc=t,this}timeout(t){return this.timeoutFunc=t,this}}T.prototype.responseTypeHandlers={};var s=new function(t){let e=null;(e=p(t)?{method:"GET",url:t}:f(t)?t:{method:"GET",url:toString(t)}).method?e.method=e.method.toUpperCase():e.method="GET",e.url=e.url||"#";t={...y,...e};let n=t.url,s=null;return l(t.data)||i(t.data)||(f(t.data)?"GET"===t.method||"DELETE"===t.method?n=n+(0<=n.indexOf("?")?"&":"?")+m(t.data):"text"===t.dataType?(s=m(t.data),t.headers["Content-Type"]="text/plain"):"json"===t.dataType?(s=JSON.stringify(t.data),t.headers["Content-Type"]="application/json"):"form"===t.dataType&&(s=m(t.data),t.headers["Content-Type"]="application/x-www-form-urlencoded"):p(t.data)||a(t.data,"DOMString")?"GET"===t.method||"DELETE"===t.method?n+=qs:(s=t.data,t.headers["Content-Type"]=t.dataType||"application/octet-stream"):a(t.data,"ArrayBuffer")||a(t.data,"ArrayBufferView")||a(t.data,"Blob")?"GET"!==t.method&&"DELETE"!==t.method&&(s=t.data,t.headers["Content-Type"]=t.dataType||"application/octet-stream"):a(t.data,"Document")||a(t.data,"HTMLDocument")?"GET"!==t.method&&"DELETE"!==t.method&&(s=t.data,t.headers["Content-Type"]="text/html"):a(t.data,"XMLDocument")?"GET"!==t.method&&"DELETE"!==t.method&&(s=t.data,t.headers["Content-Type"]="application/xml"):a(t.data,"FormData")&&"GET"!==t.method&&"DELETE"!==t.method&&(s=t.data,t.headers["Content-Type"]="multipart/form-data")),new T(n,t,s)};const x=function(t,e,n,s){return $ajax({method:t,headers:{Accept:"application/json",...s},url:e,data:n,dataType:"json",responseType:"json"})};function o(t){return p(t)?t:Object.prototype.toString.call(t)}function r(t,e,n){return(new DOMParser).parseFromString(t,n)}function u(t){return JSON.parse(t)}s.extendAJAX=function(t,e){T.prototype.responseTypeHandlers[t]&&console.warn("Jaxxy: Overriding existing handler type: "+t),T.prototype.responseTypeHandlers[t]=e},s.extendAJAX("text",o),s.extendAJAX("text/plain",o),s.extendAJAX("json",u),s.extendAJAX("application/json",u),s.extendAJAX("xml",r),s.extendAJAX("text/xml",r),s.extendAJAX("application/xml",r),s.extendAJAX("html",r),s.extendAJAX("text/html",r),s.extendAJAX("xhtml",r),s.extendAJAX("text/xhtml",r),s.each=F,s.queryString=m,s.isType=a,s.isUndefined=i,s.isNull=l,s.isBoolean=c,s.isNumber=d,s.isString=p,s.isArray=h,s.isFunction=function(t){return a(t,"Function")},s.isObject=f,s.isBlank=function(t){return i(t)||l(t)||h(t)&&0===t.length||d(t)&&isNaN(t)||p(t)&&0===t.trim().length||0===t},s.JSON=x,s.JSON.get=function(t,e){return x("get",t,null,e)},s.JSON.delete=function(t,e){return x("delete",t,null,e)},s.JSON.put=function(t,e,n){return x("put",t,e,n)},s.JSON.post=function(t,e,n){return x("post",t,e,n)},s.JSON.patch=function(t,e,n){return x("patch",t,e,n)};let t=n.$JX,e=n.$JXJ;s.noConflict=function(){n.$JX=t,n.$JXJ=e},n.Jaxxy=s,n.$JX=s,n.$JXJ=s.JSON}else console.error("Missing required function: encodeURIComponent.");else console.error("Missing required object: DOMParser.")}(this);
//# sourceMappingURL=jaxxy.min.js.map