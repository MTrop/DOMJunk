/****************************************************************************
 * JState by Matt Tropiano (C) 2022
 * Requires ECMAScript 6
 * Licensed for use under the MIT License
 * @license
 ****************************************************************************/
!function(t){if(!t.document.querySelectorAll)return console.error("Missing required function: document.querySelectorAll.");if(!t.document.querySelector)return console.error("Missing required function: document.querySelector.");if(!t.Element.prototype.querySelectorAll)return console.error("Missing required function: Element.querySelectorAll.");if(!t.Element.prototype.querySelector)return console.error("Missing required function: Element.querySelector.");function i(t){return void 0===t}function o(t){return null===t}function u(t){return p(t,"Number")}function l(t){return p(t,"String")}function s(t){return p(t,"Function")}function e(t){return p(t,"Object")}function a(t){return i(t)||o(t)||(e=t,p(e,"Array")&&0===t.length)||u(t)&&isNaN(t)||l(t)&&0===t.trim().length||0===t;var e}function c(t,e){if(!i(t)&&!o(t))if(r=t,p(r,"Boolean")||u(t)||l(t))e(t,null,1);else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n,t.length))break;var r}const p=function(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"};Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector;function n(){this instanceof r&&(null!=this.applierTimeout&&(clearTimeout(this.applierTimeout),this.applierTimeout=null),this.applierTimeout=setTimeout(()=>{c(this.nextStateChanges,(t,e)=>{this.stateApplierFunctionMap[e]&&(this.stateApplierFunctionMap[e](t,this.state[e]),this.state[e]=t)}),this.nextStateChanges={}},0))}const h=(e,n)=>t=>{t[e]=n};class r{constructor(t){if(!e(t))throw new Error("Expected object for state applier.");this.stateApplierFunctionMap={},this.changeVerifierMap={},this.state={},this.nextStateChanges={},this.applierTimeout=null,c(t,(t,e)=>{this.addHandler(e,t)})}addHandler(t,e){return s(e)?this.stateApplierFunctionMap[t]=e:(o(e)||i(e))&&this.removeHandler(t),this}removeHandler(t){return delete this.stateApplierFunctionMap[t],this}setState(t){if(e(t))return c(t,(t,e)=>{this.state[e]=t}),this}applyState(t){if(e(t))return c(t,(t,e)=>{this.state[e]!==t&&(this.nextStateChanges[e]=t)}),n.apply(this),this}touchState(){return c(arguments,t=>{this.stateApplierFunctionMap[t]&&(this.nextStateChanges[t]=this.state[t])}),n.apply(this),this}bindStateEvent(t,e,n){const r=this;t="on"+t.toLowerCase();e=l(e)?document.querySelectorAll(e):e;return c(e,h(t,function(t){s(n)?r.applyState(n(t,r.state)):r.applyState(n)})),this}}const f=new function(){};f.createAppState=function(t){return new r(t)},f.bindFormState=function(t,e){if(!a(t)){const i=e||{};var n=h("onchange",t=>{const e=t.srcElement;t=e.getAttribute("name");e.selected?i[t]=e.value:delete i[t]}),r=h("onchange",t=>{const e=t.srcElement;t=e.getAttribute("name");i[t]=e.value}),e=h("onchange",t=>{const e=t.srcElement;var n=e.getAttribute("name"),t=!!e.getAttribute("multiple");i[n]=t?[...e.options].filter(t=>t.selected).map(t=>t.value):e.value});return t.querySelectorAll('input[type="checkbox"], input[type="radio"]').forEach(n),t.querySelectorAll(':not(input[type]), :not(input[type="checkbox"], input[type="radio"], input[type="button"], input[type="submit"]), textarea').forEach(r),t.querySelectorAll("select").forEach(e),i}};let m=t.$JS;f.noConflict=function(){t.$JS=m},t.JState=f,t.$JS=f}(this);
//# sourceMappingURL=jstate.min.js.map